@page "/formations/{id}"

@inject HttpClient client

@if (f == null)
{
    <p>En attente d'acquisition des informations de la formation...</p>
    <div class="loading-bar"></div>
} else {
    <h1>@f.Name</h1>
    <h2>Du @f.StartDate au @f.EndDate, à @f.Location</h2>
    <hr>
    <p>Formation animée par @f.Former, appartenant à @f.OrganizationName</p>
    <br>
    <h3>Description</h3>
    <p>@f.Description</p>
    <br>
    <h3>Informations utiles</h3>
    <p>S'adresse surtout pour @f.Target</p>
    <br>
    <p>Prix de la formation : @f.Price €</p>
}

@code {
    [Parameter]
    public String Id {get; set;}

    public formation f = null;

    protected override async Task OnInitializedAsync()
    {
        f = await client.GetFromJsonAsync<formation>("Formation/" + Id);
    }
}